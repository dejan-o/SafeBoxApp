(this.webpackJsonphotel_safe_box=this.webpackJsonphotel_safe_box||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(2),a=n(12),u=n.n(a),s=(n(28),n(29),n(30),n(31),n(9)),i=Object(s.b)((function(e){return{isLocked:e.logic.isLocked}}))((function(e){var t=e.isLocked;return Object(r.jsx)("span",{className:"panel-screen__status",children:t?"Locked":"Unlocked"})}));n(37);var o=Object(s.b)((function(e){return{inputSequence:e.logic.inputSequence,message:e.screen.message}}))((function(e){var t,n=e.inputSequence,c=e.message;return Object(r.jsx)("span",{className:"panel-screen__message",children:(t=n,(t.length>10?t.substring(t.length-10):t)||c)})})),b=Object(s.b)((function(e){return{isActive:e.screen.isActive}}))((function(e){var t=e.isActive;return Object(r.jsxs)("section",{className:"panel-screen ".concat(t?"panel-screen--light-on":"panel-screen--light-off"),children:[Object(r.jsx)(i,{}),Object(r.jsx)(o,{})]})})),d=(n(38),{HANDLE_KEYPRESS:"KEYPRESS",SET_IS_LOCKED:"SET_IS_LOCKED",SET_BOX_CODE:"SET_BOX_CODE",RESET_INPUT_SEQUENCE:"RESET_INPUT_SEQUENCE",SET_SERVICE_MODE:"SET_SERVICE_MODE",SET_CONFIRM:"SET_CONFIRM"}),O=function(e){return{type:d.HANDLE_KEYPRESS,payload:e}},f=function(){return{type:d.SET_IS_LOCKED}},j=function(e){return{type:d.SET_BOX_CODE,payload:e}},E=function(){return{type:d.RESET_INPUT_SEQUENCE}},x=function(e){return{type:d.SET_SERVICE_MODE,payload:e}},l=function(e){return{type:d.SET_CONFIRM,payload:e}};var p=Object(s.b)((function(e){return{isConfirmed:e.logic.isConfirmed}}),(function(e){return{handleKeyPress:function(t){return e(O(t))}}}))((function(e){var t=e.buttonValue,n=e.handleKeyPress,c=e.isConfirmed;return Object(r.jsx)("button",{className:"panel-button",value:t,onClick:function(e){return function(e){return function(t,n){t||n(e.target.value)}}(e)(c,n)},children:t})})),S=(n(39),[{id:1,value:"7"},{id:2,value:"8"},{id:3,value:"9"},{id:4,value:"4"},{id:5,value:"5"},{id:6,value:"6"},{id:7,value:"1"},{id:8,value:"2"},{id:9,value:"3"},{id:10,value:"*"},{id:11,value:"0"},{id:12,value:"L"}]),v=4815162342,_="",C="Locking...",m="Unlocking...",h="Error",k="Ready",T="Service",g="Validating...";function y(e){return function(t,n){t||S.map((function(e){return e.value})).includes(e.key)&&n(e.key)}}var N=Object(s.b)((function(e){return{isConfirmed:e.logic.isConfirmed}}),(function(e){return{handleKeyPress:function(t){return e(O(t))}}}))((function(e){var t=e.handleKeyPress,n=e.isConfirmed,a=S;return Object(c.useEffect)((function(){return document.addEventListener("keypress",(function(e){return y(e)(n,t)})),function(){return document.removeEventListener("keypress",y)}}),[y]),Object(r.jsx)("section",{className:"panel-buttons",children:a.map((function(e){return Object(r.jsx)(p,{buttonValue:e.value},e.id)}))})})),R=(n(40),function(){return Object(r.jsxs)("div",{className:"serial-number",children:["S / N: ",v]})});var w=function(){return Object(r.jsxs)("div",{className:"panel",children:[Object(r.jsx)(b,{}),Object(r.jsx)(N,{}),Object(r.jsx)(R,{})]})},L=n(10),I=(n(41),n(7)),A={inputSequence:"",safeBoxCode:"",isServiceMode:!1,isLocked:!1,isConfirmed:!1},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d.HANDLE_KEYPRESS:return Object(I.a)(Object(I.a)({},e),{},{inputSequence:e.inputSequence+t.payload});case d.SET_IS_LOCKED:return Object(I.a)(Object(I.a)({},e),{},{isLocked:!e.isLocked});case d.SET_BOX_CODE:return Object(I.a)(Object(I.a)({},e),{},{safeBoxCode:t.payload});case d.RESET_INPUT_SEQUENCE:return Object(I.a)(Object(I.a)({},e),{},{inputSequence:""});case d.SET_SERVICE_MODE:return Object(I.a)(Object(I.a)({},e),{},{isServiceMode:t.payload});case d.SET_CONFIRM:return Object(I.a)(Object(I.a)({},e),{},{isConfirmed:t.payload});default:return e}},M={SET_SCREEN_ACTIVE:"SET_SCREEN_ACTIVE",SET_SCREEN_MESSAGE:"SET_SCREEN_MESSAGE"},K={message:"",isActive:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case M.SET_SCREEN_ACTIVE:return Object(I.a)(Object(I.a)({},e),{},{isActive:t.payload});case M.SET_SCREEN_MESSAGE:return Object(I.a)(Object(I.a)({},e),{},{message:t.payload});default:return e}},V=Object(L.combineReducers)({logic:D,screen:P}),U=n(22),q=n(6),B=n.n(q),Y=n(1),F=function(e){return{type:M.SET_SCREEN_ACTIVE,payload:e}},G=function(e){return{type:M.SET_SCREEN_MESSAGE,payload:e}},H=n(20),Q=B.a.mark(te),X=B.a.mark(ne),J=B.a.mark(re),z=B.a.mark(ce),W=B.a.mark(ae),Z=function(){var e=Object(H.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?c\n\t\tode=".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();function $(e,t,n){return e===t&&!n}function ee(e){return"000000"===e}function te(e){var t;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.substring(0,6),n.next=3,Object(Y.d)(j(t));case 3:return n.next=5,Object(Y.d)(E());case 5:return n.next=7,Object(Y.d)(G(C));case 7:return n.next=9,Object(Y.c)(3e3);case 9:return n.next=11,Object(Y.d)(f());case 11:return n.next=13,Object(Y.d)(G(k));case 13:return n.next=15,Object(Y.c)(200);case 15:return n.next=17,Object(Y.d)(l(!1));case 17:return n.next=19,Object(Y.d)(G(_));case 19:return n.next=21,Object(Y.c)(5e3);case 21:return n.next=23,Object(Y.d)(F(!1));case 23:case"end":return n.stop()}}),Q)}function ne(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(E());case 2:return e.next=4,Object(Y.d)(G(h));case 4:return e.next=6,Object(Y.c)(1e3);case 6:return e.next=8,Object(Y.d)(G(_));case 8:return e.next=10,Object(Y.d)(l(!1));case 10:return e.next=12,Object(Y.c)(5e3);case 12:return e.next=14,Object(Y.d)(F(!1));case 14:case"end":return e.stop()}}),X)}function re(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(E());case 2:return e.next=4,Object(Y.d)(G(m));case 4:return e.next=6,Object(Y.c)(3e3);case 6:return e.next=8,Object(Y.d)(j(""));case 8:return e.next=10,Object(Y.d)(f());case 10:return e.next=12,Object(Y.d)(G(k));case 12:return e.next=14,Object(Y.c)(200);case 14:return e.next=16,Object(Y.d)(G(_));case 16:return e.next=18,Object(Y.d)(l(!1));case 18:return e.next=20,Object(Y.c)(5e3);case 20:return e.next=22,Object(Y.d)(F(!1));case 22:case"end":return e.stop()}}),J)}function ce(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.d)(E());case 2:return e.next=4,Object(Y.d)(x(!0));case 4:return e.next=6,Object(Y.d)(G(T));case 6:return e.next=8,Object(Y.c)(700);case 8:return e.next=10,Object(Y.d)(G(_));case 10:return e.next=12,Object(Y.d)(l(!1));case 12:return e.next=14,Object(Y.c)(5e3);case 14:return e.next=16,Object(Y.d)(F(!1));case 16:case"end":return e.stop()}}),z)}function ae(e,t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Y.d)(G(g));case 2:return n.next=4,Object(Y.d)(E());case 4:return n.next=6,Object(Y.b)((function(){return t(e)}));case 6:if(n.sent.sn!==v){n.next=14;break}return n.next=10,Object(Y.d)(x(!1));case 10:return n.next=12,re();case 12:n.next=18;break;case 14:return n.next=16,Object(Y.d)(x(!1));case 16:return n.next=18,ne();case 18:case"end":return n.stop()}}),W)}var ue=B.a.mark(Ee),se=B.a.mark(xe),ie=B.a.mark(le),oe=function(e){return e.logic.isConfirmed},be=function(e){return e.logic.isLocked},de=function(e){return e.logic.inputSequence},Oe=function(e){return e.logic.safeBoxCode},fe=function(e){return e.logic.isServiceMode},je=function(e){return e.screen.isActive};function Ee(e){var t,n,r,c,a,u;return B.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(Y.e)(oe);case 3:return n=s.sent,s.next=6,Object(Y.e)(be);case 6:return r=s.sent,s.next=9,Object(Y.e)(de);case 9:return c=s.sent,s.next=12,Object(Y.e)(Oe);case 12:return a=s.sent,s.next=15,Object(Y.e)(fe);case 15:return u=s.sent,s.next=18,Object(Y.e)(je);case 18:if(s.sent){s.next=22;break}return s.next=22,Object(Y.d)(F(!0));case 22:if(r||"L"!==t){s.next=26;break}return s.next=25,Object(Y.d)(l(!0));case 25:n=!0;case 26:return s.next=28,Object(Y.c)(1200);case 28:if(n){s.next=31;break}return s.next=31,Object(Y.d)(l(!0));case 31:if(r){s.next=42;break}s.t0=!0,s.next=s.t0===("L"===(i=c)[i.length-1]&&7===i.length&&!isNaN(+i.substring(0,6)))?35:38;break;case 35:return s.next=37,te(c);case 37:return s.abrupt("break",40);case 38:return s.next=40,ne();case 40:s.next=56;break;case 42:s.t1=!0,s.next=s.t1===$(c,a,u)?45:s.t1===u?48:s.t1===ee(c)?51:54;break;case 45:return s.next=47,re();case 47:return s.abrupt("break",56);case 48:return s.next=50,ae(c,Z);case 50:return s.abrupt("break",56);case 51:return s.next=53,ce();case 53:return s.abrupt("break",56);case 54:return s.next=56,ne();case 56:case"end":return s.stop()}var i}),ue)}function xe(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.f)(d.HANDLE_KEYPRESS,Ee);case 2:case"end":return e.stop()}}),se)}function le(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)([Object(Y.b)(xe)]);case 2:case"end":return e.stop()}}),ie)}var pe=B.a.mark(Se);function Se(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.a)([Object(Y.b)(le)]);case 2:case"end":return e.stop()}}),pe)}var ve=n(21),_e=Object(U.a)(),Ce=[_e];var me=Object(L.createStore)(V,Object(ve.composeWithDevTools)(L.applyMiddleware.apply(void 0,Ce)));_e.run(Se);var he=me;u.a.render(Object(r.jsx)(s.a,{store:he,children:Object(r.jsx)(w,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.749397cb.chunk.js.map