(this.webpackJsonphotel_safe_box=this.webpackJsonphotel_safe_box||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(2),a=n(12),u=n.n(a),s=(n(28),n(29),n(30),n(31),n(9)),i=Object(s.b)((function(e){return{isLocked:e.logic.isLocked}}))((function(e){var t=e.isLocked;return Object(r.jsx)("span",{className:"panel-screen__status",children:t?"Locked":"Unlocked"})}));n(37);function o(e,t){var n=e;return n.length>10&&(n=n.substring(e.length-10)),t||"L"!==n[n.length-1]?n:n.substring(0,n.length-1)}var b=Object(s.b)((function(e){return{inputSequence:e.logic.inputSequence,message:e.screen.message,isLocked:e.logic.isLocked}}))((function(e){var t=e.inputSequence,n=e.message,c=e.isLocked;return Object(r.jsx)("span",{className:"panel-screen__message",children:o(t,c)||n})})),d=Object(s.b)((function(e){return{isActive:e.screen.isActive}}))((function(e){var t=e.isActive;return Object(r.jsxs)("section",{className:"panel-screen ".concat(t?"panel-screen--light-on":"panel-screen--light-off"),children:[Object(r.jsx)(i,{}),Object(r.jsx)(b,{})]})})),O=(n(38),{HANDLE_KEYPRESS:"KEYPRESS",SET_IS_LOCKED:"SET_IS_LOCKED",SET_BOX_CODE:"SET_BOX_CODE",RESET_INPUT_SEQUENCE:"RESET_INPUT_SEQUENCE",SET_SERVICE_MODE:"SET_SERVICE_MODE",SET_CONFIRM:"SET_CONFIRM"}),f=function(e){return{type:O.HANDLE_KEYPRESS,payload:e}},j=function(){return{type:O.SET_IS_LOCKED}},E=function(e){return{type:O.SET_BOX_CODE,payload:e}},x=function(){return{type:O.RESET_INPUT_SEQUENCE}},l=function(e){return{type:O.SET_SERVICE_MODE,payload:e}},p=function(e){return{type:O.SET_CONFIRM,payload:e}};var S=Object(s.b)((function(e){return{isConfirmed:e.logic.isConfirmed}}),(function(e){return{handleKeyPress:function(t){return e(f(t))}}}))((function(e){var t=e.buttonValue,n=e.handleKeyPress,c=e.isConfirmed;return Object(r.jsx)("button",{className:"panel-button",value:t,onClick:function(e){return function(e){return function(t,n){t||n(e.target.value)}}(e)(c,n)},children:t})})),v=(n(39),[{id:1,value:"7"},{id:2,value:"8"},{id:3,value:"9"},{id:4,value:"4"},{id:5,value:"5"},{id:6,value:"6"},{id:7,value:"1"},{id:8,value:"2"},{id:9,value:"3"},{id:10,value:"*"},{id:11,value:"0"},{id:12,value:"L"}]),_=4815162342,h="",C="Locking...",m="Unlocking...",k="Error",g="Ready",T="Service",y="Validating...";function N(e){return function(t,n){t||v.map((function(e){return e.value})).includes(e.key)&&n(e.key)}}var R=Object(s.b)((function(e){return{isConfirmed:e.logic.isConfirmed}}),(function(e){return{handleKeyPress:function(t){return e(f(t))}}}))((function(e){var t=e.handleKeyPress,n=e.isConfirmed,a=v;return Object(c.useEffect)((function(){return document.addEventListener("keypress",(function(e){return N(e)(n,t)})),function(){return document.removeEventListener("keypress",N)}}),[N]),Object(r.jsx)("section",{className:"panel-buttons",children:a.map((function(e){return Object(r.jsx)(S,{buttonValue:e.value},e.id)}))})})),w=(n(40),function(){return Object(r.jsxs)("div",{className:"serial-number",children:["S / N: ",_]})});var L=function(){return Object(r.jsxs)("div",{className:"panel",children:[Object(r.jsx)(d,{}),Object(r.jsx)(R,{}),Object(r.jsx)(w,{})]})},I=n(10),A=(n(41),n(7)),D={inputSequence:"",safeBoxCode:"",isServiceMode:!1,isLocked:!1,isConfirmed:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case O.HANDLE_KEYPRESS:return Object(A.a)(Object(A.a)({},e),{},{inputSequence:e.inputSequence+t.payload});case O.SET_IS_LOCKED:return Object(A.a)(Object(A.a)({},e),{},{isLocked:!e.isLocked});case O.SET_BOX_CODE:return Object(A.a)(Object(A.a)({},e),{},{safeBoxCode:t.payload});case O.RESET_INPUT_SEQUENCE:return Object(A.a)(Object(A.a)({},e),{},{inputSequence:""});case O.SET_SERVICE_MODE:return Object(A.a)(Object(A.a)({},e),{},{isServiceMode:t.payload});case O.SET_CONFIRM:return Object(A.a)(Object(A.a)({},e),{},{isConfirmed:t.payload});default:return e}},K={SET_SCREEN_ACTIVE:"SET_SCREEN_ACTIVE",SET_SCREEN_MESSAGE:"SET_SCREEN_MESSAGE"},P={message:"",isActive:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case K.SET_SCREEN_ACTIVE:return Object(A.a)(Object(A.a)({},e),{},{isActive:t.payload});case K.SET_SCREEN_MESSAGE:return Object(A.a)(Object(A.a)({},e),{},{message:t.payload});default:return e}},U=Object(I.combineReducers)({logic:M,screen:V}),q=n(22),B=n(6),Y=n.n(B),F=n(1),G=function(e){return{type:K.SET_SCREEN_ACTIVE,payload:e}},H=function(e){return{type:K.SET_SCREEN_MESSAGE,payload:e}},Q=n(20),X=Y.a.mark(ne),J=Y.a.mark(re),z=Y.a.mark(ce),W=Y.a.mark(ae),Z=Y.a.mark(ue),$=function(){var e=Object(Q.a)(Y.a.mark((function e(t){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?c\n\t\tode=".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();function ee(e,t,n){return e===t&&!n}function te(e){return"000000"===e}function ne(e){var t;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.substring(0,6),n.next=3,Object(F.d)(E(t));case 3:return n.next=5,Object(F.d)(x());case 5:return n.next=7,Object(F.d)(H(C));case 7:return n.next=9,Object(F.c)(3e3);case 9:return n.next=11,Object(F.d)(j());case 11:return n.next=13,Object(F.d)(H(g));case 13:return n.next=15,Object(F.c)(200);case 15:return n.next=17,Object(F.d)(p(!1));case 17:return n.next=19,Object(F.d)(H(h));case 19:return n.next=21,Object(F.c)(5e3);case 21:return n.next=23,Object(F.d)(G(!1));case 23:case"end":return n.stop()}}),X)}function re(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)(x());case 2:return e.next=4,Object(F.d)(H(k));case 4:return e.next=6,Object(F.c)(1e3);case 6:return e.next=8,Object(F.d)(H(h));case 8:return e.next=10,Object(F.d)(p(!1));case 10:return e.next=12,Object(F.c)(5e3);case 12:return e.next=14,Object(F.d)(G(!1));case 14:case"end":return e.stop()}}),J)}function ce(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)(x());case 2:return e.next=4,Object(F.d)(H(m));case 4:return e.next=6,Object(F.c)(3e3);case 6:return e.next=8,Object(F.d)(E(""));case 8:return e.next=10,Object(F.d)(j());case 10:return e.next=12,Object(F.d)(H(g));case 12:return e.next=14,Object(F.c)(200);case 14:return e.next=16,Object(F.d)(H(h));case 16:return e.next=18,Object(F.d)(p(!1));case 18:return e.next=20,Object(F.c)(5e3);case 20:return e.next=22,Object(F.d)(G(!1));case 22:case"end":return e.stop()}}),z)}function ae(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)(x());case 2:return e.next=4,Object(F.d)(l(!0));case 4:return e.next=6,Object(F.d)(H(T));case 6:return e.next=8,Object(F.c)(700);case 8:return e.next=10,Object(F.d)(H(h));case 10:return e.next=12,Object(F.d)(p(!1));case 12:return e.next=14,Object(F.c)(5e3);case 14:return e.next=16,Object(F.d)(G(!1));case 16:case"end":return e.stop()}}),W)}function ue(e,t){return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(F.d)(H(y));case 2:return n.next=4,Object(F.d)(x());case 4:return n.next=6,Object(F.b)((function(){return t(e)}));case 6:if(n.sent.sn!==_){n.next=14;break}return n.next=10,Object(F.d)(l(!1));case 10:return n.next=12,ce();case 12:n.next=18;break;case 14:return n.next=16,Object(F.d)(l(!1));case 16:return n.next=18,re();case 18:case"end":return n.stop()}}),Z)}var se=Y.a.mark(xe),ie=Y.a.mark(le),oe=Y.a.mark(pe),be=function(e){return e.logic.isConfirmed},de=function(e){return e.logic.isLocked},Oe=function(e){return e.logic.inputSequence},fe=function(e){return e.logic.safeBoxCode},je=function(e){return e.logic.isServiceMode},Ee=function(e){return e.screen.isActive};function xe(e){var t,n,r,c,a,u,s,i;return Y.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(F.e)(be);case 3:return n=o.sent,o.next=6,Object(F.e)(de);case 6:return r=o.sent,o.next=9,Object(F.e)(Oe);case 9:return c=o.sent,o.next=12,Object(F.e)(fe);case 12:return a=o.sent,o.next=15,Object(F.e)(je);case 15:return u=o.sent,o.next=18,Object(F.e)(Ee);case 18:if(s=o.sent,i=n,s){o.next=23;break}return o.next=23,Object(F.d)(G(!0));case 23:if(r||"L"!==t){o.next=27;break}return o.next=26,Object(F.d)(p(!0));case 26:i=!0;case 27:return o.next=29,Object(F.c)(1200);case 29:if(i){o.next=32;break}return o.next=32,Object(F.d)(p(!0));case 32:if(r){o.next=43;break}o.t0=!0,o.next=o.t0===("L"===(b=c)[b.length-1]&&7===b.length&&!isNaN(+b.substring(0,6)))?36:39;break;case 36:return o.next=38,ne(c);case 38:return o.abrupt("break",41);case 39:return o.next=41,re();case 41:o.next=57;break;case 43:o.t1=!0,o.next=o.t1===ee(c,a,u)?46:o.t1===u?49:o.t1===te(c)?52:55;break;case 46:return o.next=48,ce();case 48:return o.abrupt("break",57);case 49:return o.next=51,ue(c,$);case 51:return o.abrupt("break",57);case 52:return o.next=54,ae();case 54:return o.abrupt("break",57);case 55:return o.next=57,re();case 57:case"end":return o.stop()}var b}),se)}function le(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.f)(O.HANDLE_KEYPRESS,xe);case 2:case"end":return e.stop()}}),ie)}function pe(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.b)(le)]);case 2:case"end":return e.stop()}}),oe)}var Se=Y.a.mark(ve);function ve(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.a)([Object(F.b)(pe)]);case 2:case"end":return e.stop()}}),Se)}var _e=n(21),he=Object(q.a)(),Ce=[he];var me=Object(I.createStore)(U,Object(_e.composeWithDevTools)(I.applyMiddleware.apply(void 0,Ce)));he.run(ve);var ke=me;u.a.render(Object(r.jsx)(s.a,{store:ke,children:Object(r.jsx)(L,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e4a8b757.chunk.js.map