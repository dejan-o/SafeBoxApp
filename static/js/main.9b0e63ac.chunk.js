(this.webpackJsonphotel_safe_box=this.webpackJsonphotel_safe_box||[]).push([[0],{10:function(e,n,t){},20:function(e,n,t){},21:function(e,n,t){},27:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(0),s=t.n(r),u=t(5),i=t.n(u),o=(t(20),t(21),t(10),t(3)),a={HANDLE_KEYPRESS:"KEYPRESS",SET_SCREEN_ACTIVE:"SET_SCREEN_ACTIVE",SET_SCREEN_MESSAGE:"SET_SCREEN_MESSAGE",SET_IS_LOCKED:"SET_IS_LOCKED",SET_BOX_CODE:"SET_BOX_CODE",RESET_INPUT_SEQUENCE:"RESET_INPUT_SEQUENCE",SET_SERVICE_MODE:"SET_SERVICE_MODE"},E=function(e){return{type:a.HANDLE_KEYPRESS,payload:e}},S=function(e){return{type:a.SET_SCREEN_MESSAGE,payload:e}},f=function(){return{type:a.RESET_INPUT_SEQUENCE}},d=function(e){return{type:a.SET_SERVICE_MODE,payload:e}},l=[7,8,9,4,5,6,1,2,3,"*",0,"L"],_=4815162342,b="",p="Locking...",j="Unlocking...",O="Error",T="Ready",v="Service",h=function(e){var n=e.inputSequence,t=e.isLocked,r=e.isActive,s=e.screenMessage,u=e.renderSequence;return Object(c.jsxs)("section",{className:"panel-screen ".concat(r?"panel-screen--light-on":"panel-screen--light-off"),children:[Object(c.jsx)("span",{className:"panel-screen__status",children:t?"Locked":"Unlocked"}),Object(c.jsx)("span",{className:"panel-screen__message",children:u(n)||s})]})},C=Object(o.b)((function(e){return{screenMessage:e.screenMessage,inputSequence:e.inputSequence,isLocked:e.isLocked,boxCode:e.code,isActive:e.isActive,isServiceMode:e.isServiceMode}}),(function(e){return{setScreenMessage:function(n){return e(S(n))},resetInputSequence:function(){return e(f())},setIsLocked:function(){return e({type:a.SET_IS_LOCKED})},setBoxCode:function(n){return e({type:a.SET_BOX_CODE,payload:n})},setScreenActive:function(n){return e(function(e){return{type:a.SET_SCREEN_ACTIVE,payload:e}}(n))},setServiceMode:function(n){return e(d(n))},serviceModeProcess:function(n,t,c,r){return e(function(e,n,t,c){return function(r){r(f()),r(S("Validating...")),fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?c\n\t\tode=".concat(e)).then((function(e){return e.json()})).then((function(e){e===n?t():c(),r(d(!1))}))}}(n,t,c,r))}}}))((function(e){var n=e.screenMessage,t=e.inputSequence,r=e.isLocked,u=e.setScreenMessage,i=e.resetInputSequence,o=e.setIsLocked,a=e.setBoxCode,E=e.boxCode,S=e.setScreenActive,f=e.isActive,d=e.setServiceMode,l=e.serviceModeProcess,C=e.isServiceMode;function g(){i(),u(j),setTimeout((function(){a(""),o(),u(T),setTimeout((function(){u(b)}),500)}),3e3)}function m(){i(),u(O),setTimeout((function(){u(b)}),1e3)}return s.a.useEffect((function(){t&&!f&&S(!0);var e=setTimeout((function(){var e;t&&(r?!function(e,n){return 6===e.length&&"number"===typeof+e&&e===n&&!C}(t,E)?C?l(t,_,g,m):t!==E&&"000000"===t?(i(),d(!0),u(v),setTimeout((function(){setTimeout((function(){u(b)}),500)}),700)):m():g():"L"===(e=t)[e.length-1]&&7===e.length&&"number"===typeof+e.substring(0,6)?function(){var e=t.substring(0,6);a(e),i(),u(p),setTimeout((function(){o(),u(T),setTimeout((function(){u(b)}),500)}),3e3)}():m())}),1200);return function(){clearTimeout(e)}}),[t]),s.a.useEffect((function(){var e=setTimeout((function(){f&&S(!1)}),5e3);return function(){return clearTimeout(e)}}),[r,f,t,n]),Object(c.jsx)(h,{isActive:f,isLocked:r,inputSequence:t,screenMessage:n,renderSequence:function(e){return e.length?(e>10&&(e=e.substring(e.length-10)),"L"!==e[e.length-1]||r?e:e.substring(0,e.length-1)):""}})})),g=(t(27),Object(o.b)(null,(function(e){return{handleKeyPress:function(n){return e(E(n))}}}))((function(e){var n=e.buttonValue,t=e.handleKeyPress;return Object(c.jsx)("button",{className:"panel-button",value:n,onClick:function(e){t(e.target.value)},children:n})}))),m=(t(28),Object(o.b)(null,(function(e){return{handleKeyPress:function(n){return e(E(n))}}}))((function(e){var n=e.handleKeyPress,t=l;function r(e){["0","1","2","3","4","5","6","7","8","9","L","*"].includes(e.key)&&n(e.key)}return s.a.useEffect((function(){return document.addEventListener("keypress",r),function(){return document.removeEventListener("keypress",r)}}),[]),Object(c.jsx)("section",{className:"panel-buttons",children:t.map((function(e,n){return Object(c.jsx)(g,{buttonValue:e},n)}))})}))),y=(t(29),function(){return Object(c.jsxs)("div",{className:"serial-number",children:["S / N: ",_]})});var M=function(){return Object(c.jsxs)("div",{className:"panel",children:[Object(c.jsx)(C,{}),Object(c.jsx)(m,{}),Object(c.jsx)(y,{})]})},N=t(4),L=t(13),x=t.n(L),R=t(14),k=t(2),I={isLocked:!1,screenMessage:"",isActive:!1,code:"",inputSequence:"",isServiceMode:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case a.HANDLE_KEYPRESS:return Object(k.a)(Object(k.a)({},e),{},{inputSequence:e.inputSequence+n.payload});case a.SET_SCREEN_ACTIVE:return Object(k.a)(Object(k.a)({},e),{},{isActive:n.payload});case a.SET_SCREEN_MESSAGE:return Object(k.a)(Object(k.a)({},e),{},{screenMessage:n.payload});case a.SET_IS_LOCKED:return Object(k.a)(Object(k.a)({},e),{},{isLocked:!e.isLocked});case a.SET_BOX_CODE:return Object(k.a)(Object(k.a)({},e),{},{code:n.payload});case a.RESET_INPUT_SEQUENCE:return Object(k.a)(Object(k.a)({},e),{},{inputSequence:""});case a.SET_SERVICE_MODE:return Object(k.a)(Object(k.a)({},e),{},{isServiceMode:n.payload});default:return e}},D=Object(N.c)(A,Object(N.a)(R.a,x.a));i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(o.a,{store:D,children:Object(c.jsx)(M,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.9b0e63ac.chunk.js.map